{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/attached_assets/stock_images/fushimi_inari_shrine_e6a0499f.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1280, height: 853, blurWidth: 8, blurHeight: 5, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAFAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDAkvAdJWVoIy27aPpiuVYZKV+ZnqPHya+FWP/Z\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qLAAG;IAAE,OAAO;IAAM,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAA63B"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/attached_assets/stock_images/serene_bamboo_forest_38289e3e.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1280, height: 960, blurWidth: 8, blurHeight: 6, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAGAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDlhc7ztwcOSOvqMVmoiP/Z\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qLAAG;IAAE,OAAO;IAAM,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAA62B"}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/attached_assets/stock_images/cinematic_shot_of_ky_e5492d1c.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1280, height: 853, blurWidth: 8, blurHeight: 5, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAFAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDy2O5aSwmh2gBE4OPes7tPcfLF621P/9k=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qLAAG;IAAE,OAAO;IAAM,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/attached_assets/stock_images/modern_traveler_look_cd8c6f01.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1280, height: 854, blurWidth: 8, blurHeight: 5, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAFAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwBdStbzTr2Dy9QLLbx4w0Yy31OfegD/2Q==\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,qLAAG;IAAE,OAAO;IAAM,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/lib/mock-data.ts"],"sourcesContent":["import fushimiImg from '@assets/stock_images/fushimi_inari_shrine_e6a0499f.jpg';\nimport bambooImg from '@assets/stock_images/serene_bamboo_forest_38289e3e.jpg';\nimport kyotoNightImg from '@assets/stock_images/cinematic_shot_of_ky_e5492d1c.jpg';\nimport travelerImg from '@assets/stock_images/modern_traveler_look_cd8c6f01.jpg';\n\nexport type Category = 'culture' | 'food' | 'nature' | 'shopping' | 'stay' | 'event';\nexport type Difficulty = 'easy' | 'moderate' | 'challenging';\n\nexport interface Location {\n  id: string;\n  name: string;\n  description: string;\n  lat: number;\n  lng: number;\n  category: Category;\n  difficulty?: Difficulty;\n  photos: string[];\n  time: string;\n  day: number;\n  rating: number;\n}\n\nexport const MOCK_TRIP = {\n  id: 'trip-kyoto-2025',\n  title: 'Kyoto & Osaka: The Soul of Japan',\n  dates: 'Oct 12 - Oct 18, 2025',\n  stats: {\n    distance: '45km',\n    places: 14,\n    photos: 342,\n  },\n  locations: [\n    {\n      id: 'loc-1',\n      name: 'Fushimi Inari Taisha',\n      description: 'Famous for its thousands of vermilion torii gates, which straddle a network of trails behind its main buildings.',\n      lat: 34.9671,\n      lng: 135.7727,\n      category: 'culture',\n      difficulty: 'moderate',\n      photos: [(fushimiImg as any).src || fushimiImg],\n      time: '08:00 AM',\n      day: 1,\n      rating: 4.9\n    },\n    {\n      id: 'loc-2',\n      name: 'Arashiyama Bamboo Grove',\n      description: 'A mesmerizing grove of giant bamboo stalks. The walking paths that cut through the bamboo groves make for a nice walk.',\n      lat: 35.0094,\n      lng: 135.6670,\n      category: 'nature',\n      difficulty: 'easy',\n      photos: [bambooImg.src || bambooImg],\n      time: '11:30 AM',\n      day: 1,\n      rating: 4.8\n    },\n    {\n      id: 'loc-3',\n      name: 'Pontocho Alley',\n      description: 'A narrow alley running from Shijo-dori to Sanjo-dori, one of Kyoto\\'s most atmospheric dining areas.',\n      lat: 35.0063,\n      lng: 135.7716,\n      category: 'food',\n      difficulty: 'easy',\n      photos: [kyotoNightImg.src || kyotoNightImg],\n      time: '07:00 PM',\n      day: 1,\n      rating: 4.7\n    },\n    {\n      id: 'loc-4',\n      name: 'Kinkaku-ji',\n      description: 'The Golden Pavilion. A Zen temple whose top two floors are completely covered in gold leaf.',\n      lat: 35.0394,\n      lng: 135.7292,\n      category: 'culture',\n      difficulty: 'easy',\n      photos: [travelerImg.src || travelerImg],\n      time: '10:00 AM',\n      day: 2,\n      rating: 4.9\n    },\n    {\n      id: 'loc-5',\n      name: 'Nishiki Market',\n      description: 'Known as \"Kyoto\\'s Kitchen\", this narrow, five block long shopping street is lined by more than one hundred shops and restaurants.',\n      lat: 35.0050,\n      lng: 135.7633,\n      category: 'food',\n      difficulty: 'easy',\n      photos: [(fushimiImg as any).src || fushimiImg], \n      time: '01:00 PM',\n      day: 2,\n      rating: 4.6\n    }\n  ] as Location[]\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAmBO,MAAM,YAAY;IACvB,IAAI;IACJ,OAAO;IACP,OAAO;IACP,OAAO;QACL,UAAU;QACV,QAAQ;QACR,QAAQ;IACV;IACA,WAAW;QACT;YACE,IAAI;YACJ,MAAM;YACN,aAAa;YACb,KAAK;YACL,KAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;gBAAE,6YAAU,CAAS,GAAG,IAAI,6YAAU;aAAC;YAC/C,MAAM;YACN,KAAK;YACL,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,aAAa;YACb,KAAK;YACL,KAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;gBAAC,6YAAS,CAAC,GAAG,IAAI,6YAAS;aAAC;YACpC,MAAM;YACN,KAAK;YACL,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,aAAa;YACb,KAAK;YACL,KAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;gBAAC,6YAAa,CAAC,GAAG,IAAI,6YAAa;aAAC;YAC5C,MAAM;YACN,KAAK;YACL,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,aAAa;YACb,KAAK;YACL,KAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;gBAAC,6YAAW,CAAC,GAAG,IAAI,6YAAW;aAAC;YACxC,MAAM;YACN,KAAK;YACL,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,aAAa;YACb,KAAK;YACL,KAAK;YACL,UAAU;YACV,YAAY;YACZ,QAAQ;gBAAE,6YAAU,CAAS,GAAG,IAAI,6YAAU;aAAC;YAC/C,MAAM;YACN,KAAK;YACL,QAAQ;QACV;KACD;AACH"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/lib/route-animation.ts"],"sourcesContent":["import { gsap } from \"gsap\";\n\nexport interface Checkpoint {\n  id: string;\n  name: string;\n  lat: number;\n  lng: number;\n}\n\nexport interface RouteAnimationCallbacks {\n  onProgressUpdate?: (progress: number) => void;\n  onCursorPositionUpdate?: (position: [number, number] | null) => void;\n  onRouteUpdate?: (partialRoute: GeoJSON.FeatureCollection | null) => void;\n  onComplete?: () => void;\n  onStart?: () => void;\n  onUpdate?: () => void;\n  onCheckpointReached?: (\n    checkpointIndex: number,\n    checkpoint: Checkpoint\n  ) => void;\n  onSegmentStart?: (fromIndex: number, toIndex: number) => void;\n  onSegmentComplete?: (fromIndex: number, toIndex: number) => void;\n}\n\nexport interface BakedFrame {\n  progress: number; // Progresso total (0-1)\n  cursorPosition: [number, number] | null;\n  partialRoute: GeoJSON.FeatureCollection | null;\n  segmentIndex: number;\n  segmentProgress: number;\n}\n\nexport interface RouteAnimationConfig {\n  duration?: number; // Duração total ou por segmento\n  durationPerSegment?: number; // Duração específica por segmento (em ms)\n  ease?: string;\n  timeScale?: number;\n  autoAdvance?: boolean; // Avança automaticamente para o próximo segmento ao completar\n  baked?: boolean; // Se true, usa animação baked (pré-calculada)\n  bakeResolution?: number; // Número de frames para bake (padrão: 100)\n  callbacks?: RouteAnimationCallbacks;\n}\n\nexport class RouteAnimationController {\n  private timeline: ReturnType<typeof gsap.timeline> | null = null;\n  private routeCoordinates: [number, number][] = [];\n  private checkpoints: Checkpoint[] = [];\n  private checkpointIndices: number[] = []; // Índices na rota onde estão os checkpoints\n  private routeSegments: [number, number][][] = []; // Segmentos entre checkpoints\n  private currentSegmentIndex: number = 0;\n  private progressRef = { value: 0 };\n  private segmentProgressRef = { value: 0 }; // Progresso dentro do segmento atual (0-1)\n  private cursorPositionRef: { value: [number, number] | null } = {\n    value: null,\n  };\n  private config: RouteAnimationConfig;\n  private callbacks: RouteAnimationCallbacks;\n\n  constructor(config: RouteAnimationConfig = {}) {\n    this.config = {\n      duration: 10000, // 10 segundos padrão (total ou por segmento)\n      durationPerSegment: 3000, // 3 segundos por segmento padrão\n      ease: \"power2.inOut\",\n      timeScale: 1,\n      autoAdvance: false, // Por padrão, não avança automaticamente\n      ...config,\n    };\n    this.callbacks = config.callbacks || {};\n  }\n\n  /**\n   * Inicializa a animação com as coordenadas da rota e checkpoints\n   */\n  initialize(routeCoordinates: [number, number][], checkpoints: Checkpoint[]) {\n    this.routeCoordinates = routeCoordinates;\n    this.checkpoints = checkpoints;\n    this.progressRef.value = 0;\n    this.segmentProgressRef.value = 0;\n    this.currentSegmentIndex = 0;\n    this.cursorPositionRef.value = null;\n\n    // Encontrar índices dos checkpoints na rota\n    this.findCheckpointIndices();\n\n    // Criar segmentos entre checkpoints\n    this.createRouteSegments();\n\n    // Criar timeline com checkpoints\n    this.createTimeline();\n  }\n\n  /**\n   * Encontra os índices mais próximos de cada checkpoint na rota\n   */\n  private findCheckpointIndices() {\n    this.checkpointIndices = [];\n\n    for (const checkpoint of this.checkpoints) {\n      let closestIndex = 0;\n      let minDistance = Infinity;\n\n      for (let i = 0; i < this.routeCoordinates.length; i++) {\n        const [lng, lat] = this.routeCoordinates[i];\n        const distance = Math.sqrt(\n          Math.pow(lng - checkpoint.lng, 2) + Math.pow(lat - checkpoint.lat, 2)\n        );\n\n        if (distance < minDistance) {\n          minDistance = distance;\n          closestIndex = i;\n        }\n      }\n\n      this.checkpointIndices.push(closestIndex);\n    }\n  }\n\n  /**\n   * Cria segmentos da rota entre checkpoints consecutivos\n   */\n  private createRouteSegments() {\n    this.routeSegments = [];\n\n    for (let i = 0; i < this.checkpointIndices.length - 1; i++) {\n      const startIndex = this.checkpointIndices[i];\n      const endIndex = this.checkpointIndices[i + 1];\n      const segment = this.routeCoordinates.slice(startIndex, endIndex + 1);\n      this.routeSegments.push(segment);\n    }\n  }\n\n  /**\n   * Cria a timeline do GSAP com checkpoints e segmentos\n   * Cada segmento vai de um checkpoint A até um checkpoint B\n   */\n  private createTimeline() {\n    if (this.timeline) {\n      this.timeline.kill();\n    }\n\n    // Criar timeline com callbacks nativos do GSAP\n    this.timeline = gsap.timeline({\n      paused: true,\n      onStart: () => {\n        this.callbacks.onStart?.();\n      },\n      onUpdate: () => {\n        this.updateProgress();\n        this.callbacks.onUpdate?.();\n      },\n      onComplete: () => {\n        this.callbacks.onComplete?.();\n      },\n    });\n\n    // Duração por segmento\n    const segmentDuration = this.config.durationPerSegment\n      ? this.config.durationPerSegment / 1000\n      : this.config.duration! / 1000 / Math.max(1, this.routeSegments.length);\n\n    // Criar animação para cada segmento entre checkpoints\n    for (let i = 0; i < this.routeSegments.length; i++) {\n      const segmentLabel = `checkpoint_${i}`;\n      const nextSegmentLabel = `checkpoint_${i + 1}`;\n\n      // Adicionar label para o checkpoint inicial\n      if (i === 0) {\n        this.timeline.addLabel(segmentLabel, 0);\n      } else {\n        // Adicionar label no final do segmento anterior\n        this.timeline.addLabel(segmentLabel);\n      }\n\n      // Callback quando inicia o segmento\n      this.timeline.call(\n        () => {\n          this.currentSegmentIndex = i;\n          this.segmentProgressRef.value = 0;\n          this.callbacks.onSegmentStart?.(i, i + 1);\n        },\n        undefined,\n        segmentLabel\n      );\n\n      // Animação do progresso do segmento (0 a 1)\n      this.timeline.to(\n        this.segmentProgressRef,\n        {\n          value: 1,\n          duration: segmentDuration,\n          ease: this.config.ease,\n        },\n        segmentLabel\n      );\n\n      // Callback quando completa o segmento (chegou no checkpoint)\n      this.timeline.call(\n        () => {\n          this.currentSegmentIndex = i;\n          this.segmentProgressRef.value = 1;\n          this.callbacks.onCheckpointReached?.(i + 1, this.checkpoints[i + 1]);\n          this.callbacks.onSegmentComplete?.(i, i + 1);\n\n          // Se autoAdvance está ativado e não é o último segmento, pausa para permitir controle manual\n          if (!this.config.autoAdvance && i < this.routeSegments.length - 1) {\n            this.timeline?.pause();\n          }\n        },\n        undefined,\n        `>`\n      );\n\n      // Adicionar label para o próximo checkpoint\n      if (i < this.routeSegments.length - 1) {\n        this.timeline.addLabel(nextSegmentLabel);\n      }\n    }\n\n    // Atualizar progresso total baseado no progresso dos segmentos\n    this.timeline.to(\n      this.progressRef,\n      {\n        value: 1,\n        duration: 0, // Instantâneo, será controlado pelo segmentProgressRef\n        ease: \"none\",\n      },\n      0\n    );\n\n    // Aplicar timeScale se configurado\n    if (this.config.timeScale && this.config.timeScale !== 1) {\n      this.timeline.timeScale(this.config.timeScale);\n    }\n  }\n\n  /**\n   * Atualiza o progresso e calcula posições baseado no segmento atual\n   */\n  private updateProgress() {\n    if (!this.timeline || this.routeSegments.length === 0) return;\n\n    // Progresso total da timeline (0-1)\n    const totalProgress = this.timeline.progress();\n    this.progressRef.value = totalProgress;\n\n    // Se estamos fazendo seek, não atualizar o segmentProgressRef da timeline\n    // Ele será atualizado pelo updateCurrentSegmentFromProgress\n    if (this.timeline.paused()) {\n      // Quando pausado, calcular progresso do segmento baseado no progresso total\n      this.updateCurrentSegmentFromProgress(totalProgress);\n    }\n\n    // Calcular qual segmento estamos e o progresso dentro dele\n    const segmentProgress = this.segmentProgressRef.value;\n\n    // Calcular posição do cursor baseado no segmento atual\n    const cursorPos = this.getPointAlongSegment(\n      this.currentSegmentIndex,\n      segmentProgress\n    );\n    this.cursorPositionRef.value = cursorPos;\n    this.callbacks.onCursorPositionUpdate?.(cursorPos);\n\n    // Calcular rota parcial incluindo segmentos completos + segmento atual parcial\n    const partialRoute = this.getPartialRouteFromSegments(\n      this.currentSegmentIndex,\n      segmentProgress\n    );\n    this.callbacks.onRouteUpdate?.(partialRoute);\n\n    // Atualizar callback de progresso\n    this.callbacks.onProgressUpdate?.(totalProgress);\n  }\n\n  /**\n   * Interpola coordenadas ao longo de um segmento específico\n   */\n  private getPointAlongSegment(\n    segmentIndex: number,\n    segmentProgress: number\n  ): [number, number] | null {\n    if (\n      segmentIndex < 0 ||\n      segmentIndex >= this.routeSegments.length ||\n      this.routeSegments[segmentIndex].length === 0\n    ) {\n      return null;\n    }\n\n    const segment = this.routeSegments[segmentIndex];\n    const totalLength = segment.length - 1;\n    const exactIndex = segmentProgress * totalLength;\n    const index = Math.floor(exactIndex);\n    const fraction = exactIndex - index;\n\n    if (index >= segment.length - 1) {\n      return segment[segment.length - 1];\n    }\n\n    const [lng1, lat1] = segment[index];\n    const [lng2, lat2] = segment[index + 1];\n\n    return [lng1 + (lng2 - lng1) * fraction, lat1 + (lat2 - lat1) * fraction];\n  }\n\n  /**\n   * Cria uma rota parcial baseada nos segmentos completos + segmento atual parcial\n   */\n  private getPartialRouteFromSegments(\n    currentSegmentIndex: number,\n    segmentProgress: number\n  ): GeoJSON.FeatureCollection | null {\n    if (this.routeSegments.length === 0) return null;\n\n    const partialCoords: [number, number][] = [];\n\n    // Adicionar todos os segmentos completos antes do atual\n    for (let i = 0; i < currentSegmentIndex; i++) {\n      partialCoords.push(...this.routeSegments[i]);\n    }\n\n    // Adicionar parte do segmento atual\n    if (currentSegmentIndex < this.routeSegments.length) {\n      const currentSegment = this.routeSegments[currentSegmentIndex];\n      const endIndex = Math.ceil(segmentProgress * (currentSegment.length - 1));\n      partialCoords.push(...currentSegment.slice(0, endIndex + 1));\n    }\n\n    if (partialCoords.length === 0) return null;\n\n    return {\n      type: \"FeatureCollection\",\n      features: [\n        {\n          type: \"Feature\",\n          properties: {},\n          geometry: {\n            type: \"LineString\",\n            coordinates: partialCoords,\n          },\n        },\n      ],\n    };\n  }\n\n  /**\n   * Reproduz a animação\n   */\n  play() {\n    this.timeline?.play();\n  }\n\n  /**\n   * Pausa a animação\n   */\n  pause() {\n    this.timeline?.pause();\n  }\n\n  /**\n   * Reinicia a animação do início\n   */\n  restart() {\n    this.timeline?.restart();\n  }\n\n  /**\n   * Rebobina a animação (volta ao início)\n   */\n  rewind() {\n    if (!this.timeline) return;\n    this.timeline.pause();\n    this.timeline.progress(0);\n    this.currentSegmentIndex = 0;\n    this.segmentProgressRef.value = 0;\n    this.progressRef.value = 0;\n    this.updateProgress();\n  }\n\n  /**\n   * Inverte a direção da animação (vai para trás)\n   */\n  reverse() {\n    this.timeline?.reverse();\n  }\n\n  /**\n   * Verifica se a animação está invertida\n   */\n  reversed(): boolean {\n    return this.timeline?.reversed() ?? false;\n  }\n\n  /**\n   * Vai para um progresso específico (0 a 1)\n   * Usa progress() do GSAP que é mais preciso\n   */\n  seek(progress: number) {\n    if (!this.timeline) return;\n\n    // Pausar a animação antes de fazer seek\n    const wasPlaying = this.timeline.isActive() && !this.timeline.paused();\n    this.timeline.pause();\n\n    // Definir o progresso\n    this.timeline.progress(progress);\n\n    // Atualizar o segmento atual baseado no progresso\n    this.updateCurrentSegmentFromProgress(progress);\n\n    // Atualizar progresso manualmente\n    this.updateProgress();\n\n    // Se estava reproduzindo, não retoma automaticamente (deixa pausado)\n  }\n\n  /**\n   * Atualiza o segmento atual baseado no progresso total\n   */\n  private updateCurrentSegmentFromProgress(totalProgress: number) {\n    if (this.routeSegments.length === 0) return;\n\n    // Calcular qual segmento estamos baseado no progresso\n    const totalSegments = this.routeSegments.length;\n    const segmentProgress = totalProgress * totalSegments;\n    const segmentIndex = Math.floor(segmentProgress);\n\n    this.currentSegmentIndex = Math.min(\n      segmentIndex,\n      this.routeSegments.length - 1\n    );\n\n    // Calcular progresso dentro do segmento atual\n    const progressInSegment = segmentProgress - this.currentSegmentIndex;\n    this.segmentProgressRef.value = Math.min(1, Math.max(0, progressInSegment));\n  }\n\n  /**\n   * Continua a reprodução de onde parou\n   */\n  resume() {\n    if (!this.timeline) return;\n\n    // Se está pausado e não está no final, continua\n    if (this.timeline.paused() && this.timeline.progress() < 1) {\n      this.timeline.play();\n    } else if (this.timeline.progress() >= 1) {\n      // Se está no final, reinicia\n      this.restart();\n    }\n  }\n\n  /**\n   * Retorna o progresso atual (0 a 1)\n   * Usa progress() do GSAP\n   */\n  getProgress(): number {\n    return this.timeline?.progress() ?? 0;\n  }\n\n  /**\n   * Retorna a posição atual do cursor\n   */\n  getCursorPosition(): [number, number] | null {\n    return this.cursorPositionRef.value;\n  }\n\n  /**\n   * Verifica se a animação está reproduzindo\n   */\n  isPlaying(): boolean {\n    return this.timeline?.isActive() ?? false;\n  }\n\n  /**\n   * Verifica se a animação está pausada\n   */\n  isPaused(): boolean {\n    return this.timeline?.paused() ?? true;\n  }\n\n  /**\n   * Define a velocidade da animação (1 = normal, 2 = 2x mais rápido, 0.5 = metade da velocidade)\n   */\n  setTimeScale(scale: number) {\n    this.timeline?.timeScale(scale);\n    this.config.timeScale = scale;\n  }\n\n  /**\n   * Retorna a velocidade atual da animação\n   */\n  getTimeScale(): number {\n    return this.timeline?.timeScale() ?? 1;\n  }\n\n  /**\n   * Retorna a duração total da timeline\n   */\n  getDuration(): number {\n    return this.timeline?.duration() ?? 0;\n  }\n\n  /**\n   * Retorna o tempo atual da timeline\n   */\n  getTime(): number {\n    return this.timeline?.time() ?? 0;\n  }\n\n  /**\n   * Vai para um tempo específico (em segundos)\n   */\n  seekToTime(time: number) {\n    if (!this.timeline) return;\n    this.timeline.time(time);\n  }\n\n  /**\n   * Vai para um checkpoint específico (por índice)\n   */\n  goToCheckpoint(checkpointIndex: number) {\n    if (\n      !this.timeline ||\n      checkpointIndex < 0 ||\n      checkpointIndex >= this.checkpoints.length\n    ) {\n      return;\n    }\n\n    const label = `checkpoint_${checkpointIndex}`;\n    this.timeline.pause();\n    this.timeline.tweenTo(label, {\n      onComplete: () => {\n        this.currentSegmentIndex = Math.max(0, checkpointIndex - 1);\n        this.segmentProgressRef.value = checkpointIndex === 0 ? 0 : 1;\n      },\n    });\n  }\n\n  /**\n   * Vai para o próximo checkpoint\n   */\n  goToNextCheckpoint() {\n    const nextIndex = Math.min(\n      this.currentSegmentIndex + 1,\n      this.checkpoints.length - 1\n    );\n    this.goToCheckpoint(nextIndex);\n  }\n\n  /**\n   * Vai para o checkpoint anterior\n   */\n  goToPreviousCheckpoint() {\n    const prevIndex = Math.max(this.currentSegmentIndex - 1, 0);\n    this.goToCheckpoint(prevIndex);\n  }\n\n  /**\n   * Anima do checkpoint atual até o próximo checkpoint\n   * Exemplo: Se está no checkpoint A, anima A → B\n   */\n  animateToNextCheckpoint() {\n    if (!this.timeline) return;\n\n    // currentSegmentIndex representa qual segmento estamos (0 = A→B, 1 = B→C, etc)\n    const currentSegmentIndex = this.currentSegmentIndex;\n    const nextCheckpointIndex = currentSegmentIndex + 1;\n\n    if (nextCheckpointIndex >= this.checkpoints.length) {\n      // Já está no último checkpoint\n      return;\n    }\n\n    const fromLabel = `checkpoint_${currentSegmentIndex}`;\n    const toLabel = `checkpoint_${nextCheckpointIndex}`;\n\n    // Resetar progresso do segmento\n    this.segmentProgressRef.value = 0;\n    this.currentSegmentIndex = currentSegmentIndex;\n\n    // Chamar callback de início\n    this.callbacks.onSegmentStart?.(currentSegmentIndex, nextCheckpointIndex);\n\n    // Obter os tempos dos labels\n    const fromTime = this.timeline.labels[fromLabel] || 0;\n    const toTime = this.timeline.labels[toLabel] || 0;\n    const segmentDuration = toTime - fromTime;\n\n    // Criar animação para o segmentProgressRef em paralelo\n    const segmentTween = gsap.to(this.segmentProgressRef, {\n      value: 1,\n      duration: segmentDuration,\n      ease: this.config.ease,\n    });\n\n    // Usar tweenFromTo para animar do checkpoint atual ao próximo\n    this.timeline.pause();\n    const tween = this.timeline.tweenFromTo(fromLabel, toLabel, {\n      onUpdate: () => {\n        this.updateProgress();\n      },\n      onComplete: () => {\n        // Limpar animação do segmentProgressRef\n        segmentTween.kill();\n\n        // Atualizar para o próximo segmento (incrementar o índice)\n        this.currentSegmentIndex = currentSegmentIndex + 1;\n        this.segmentProgressRef.value = 1;\n        this.callbacks.onCheckpointReached?.(\n          nextCheckpointIndex,\n          this.checkpoints[nextCheckpointIndex]\n        );\n        this.callbacks.onSegmentComplete?.(\n          currentSegmentIndex,\n          nextCheckpointIndex\n        );\n      },\n    });\n  }\n\n  /**\n   * Anima do checkpoint A até o checkpoint B (método genérico)\n   */\n  animateFromCheckpointToCheckpoint(fromIndex: number, toIndex: number) {\n    if (!this.timeline) return;\n\n    if (fromIndex < 0 || fromIndex >= this.checkpoints.length) return;\n    if (toIndex < 0 || toIndex >= this.checkpoints.length) return;\n    if (fromIndex >= toIndex) return;\n\n    const fromLabel = `checkpoint_${fromIndex}`;\n    const toLabel = `checkpoint_${toIndex}`;\n\n    this.timeline.pause();\n    this.timeline.tweenFromTo(fromLabel, toLabel, {\n      onStart: () => {\n        this.currentSegmentIndex = fromIndex;\n        this.segmentProgressRef.value = 0;\n        this.callbacks.onSegmentStart?.(fromIndex, toIndex);\n      },\n      onUpdate: () => {\n        this.updateProgress();\n      },\n      onComplete: () => {\n        this.currentSegmentIndex = toIndex - 1;\n        this.segmentProgressRef.value = 1;\n        this.callbacks.onCheckpointReached?.(\n          toIndex,\n          this.checkpoints[toIndex]\n        );\n        this.callbacks.onSegmentComplete?.(fromIndex, toIndex);\n      },\n    });\n  }\n\n  /**\n   * Verifica se há um próximo checkpoint disponível\n   */\n  hasNextCheckpoint(): boolean {\n    return this.currentSegmentIndex < this.routeSegments.length - 1;\n  }\n\n  /**\n   * Verifica se há um checkpoint anterior disponível\n   */\n  hasPreviousCheckpoint(): boolean {\n    return this.currentSegmentIndex > 0;\n  }\n\n  /**\n   * Retorna os checkpoints disponíveis\n   */\n  getCheckpoints(): Checkpoint[] {\n    return [...this.checkpoints];\n  }\n\n  /**\n   * Retorna o índice do checkpoint atual\n   */\n  getCurrentCheckpointIndex(): number {\n    return this.currentSegmentIndex;\n  }\n\n  /**\n   * Retorna o número de segmentos (checkpoints - 1)\n   */\n  getSegmentCount(): number {\n    return this.routeSegments.length;\n  }\n\n  /**\n   * Destrói a timeline e limpa recursos\n   */\n  destroy() {\n    if (this.timeline) {\n      this.timeline.kill();\n      this.timeline = null;\n    }\n    this.routeCoordinates = [];\n    this.checkpoints = [];\n    this.checkpointIndices = [];\n    this.routeSegments = [];\n    this.progressRef.value = 0;\n    this.segmentProgressRef.value = 0;\n    this.currentSegmentIndex = 0;\n    this.cursorPositionRef.value = null;\n  }\n\n  /**\n   * Atualiza os callbacks\n   */\n  updateCallbacks(callbacks: RouteAnimationCallbacks) {\n    this.callbacks = { ...this.callbacks, ...callbacks };\n\n    // Atualizar callbacks na timeline se ela já existir\n    if (this.timeline) {\n      if (callbacks.onStart) {\n        this.timeline.eventCallback(\"onStart\", callbacks.onStart);\n      }\n      if (callbacks.onUpdate) {\n        this.timeline.eventCallback(\"onUpdate\", callbacks.onUpdate);\n      }\n      if (callbacks.onComplete) {\n        this.timeline.eventCallback(\"onComplete\", callbacks.onComplete);\n      }\n    }\n  }\n\n  /**\n   * Retorna a instância da timeline (para uso avançado)\n   */\n  getTimeline(): ReturnType<typeof gsap.timeline> | null {\n    return this.timeline;\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 718, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0SACF,mCACE;IACE,UAAU;QACR,SAAS;YACP,SACG,4CAA4C;YAC5C;YACH,aACE;YACF,SACE,qGAAqG;YACrG,uEAAuE;YACvE,iBAAiB;YACjB;YACF,WACE,yDAAyD;YACzD;YACF,uCAAuC;YACvC,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,wBAAwB;YACxB,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,mIAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/components/ui/slider.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,mIAAE,EACX,4DACA;QAED,GAAG,KAAK;;0BAET,8OAAC,2KAAqB;gBAAC,WAAU;0BAC/B,cAAA,8OAAC,2KAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,8OAAC,2KAAqB;gBAAC,WAAU;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW"}},
    {"offset": {"line": 835, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/components/map-view.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState, useMemo } from \"react\";\nimport Map, {\n  Marker,\n  NavigationControl,\n  ViewState,\n  Source,\n  Layer,\n} from \"react-map-gl\";\nimport { Location } from \"@/lib/mock-data\";\nimport { motion } from \"framer-motion\";\nimport {\n  MapPin,\n  AlertCircle,\n  Landmark,\n  UtensilsCrossed,\n  TreePine,\n  ShoppingBag,\n  Hotel,\n  Calendar,\n  Play,\n  Pause,\n  RotateCcw,\n  SkipBack,\n  SkipForward,\n} from \"lucide-react\";\nimport { Category } from \"@/lib/mock-data\";\nimport {\n  RouteAnimationController,\n  type Checkpoint,\n} from \"@/lib/route-animation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Slider } from \"@/components/ui/slider\";\n\ninterface MapViewProps {\n  locations: Location[];\n  selectedLocationId: string | null;\n  onLocationSelect: (id: string) => void;\n}\n\n// Get Mapbox token from environment variable\n// In Next.js, client-side env variables must be prefixed with NEXT_PUBLIC_\nconst MAPBOX_TOKEN = process.env.NEXT_PUBLIC_MAPBOX_TOKEN || \"\";\n\n// Função para obter o ícone e cor baseado na categoria\nfunction getCategoryIcon(category: Category) {\n  switch (category) {\n    case \"culture\":\n      return {\n        Icon: Landmark,\n        color: \"text-blue-600\",\n        bgColor: \"bg-blue-50\",\n        borderColor: \"border-blue-200\",\n      };\n    case \"food\":\n      return {\n        Icon: UtensilsCrossed,\n        color: \"text-orange-600\",\n        bgColor: \"bg-orange-50\",\n        borderColor: \"border-orange-200\",\n      };\n    case \"nature\":\n      return {\n        Icon: TreePine,\n        color: \"text-green-600\",\n        bgColor: \"bg-green-50\",\n        borderColor: \"border-green-200\",\n      };\n    case \"shopping\":\n      return {\n        Icon: ShoppingBag,\n        color: \"text-purple-600\",\n        bgColor: \"bg-purple-50\",\n        borderColor: \"border-purple-200\",\n      };\n    case \"stay\":\n      return {\n        Icon: Hotel,\n        color: \"text-indigo-600\",\n        bgColor: \"bg-indigo-50\",\n        borderColor: \"border-indigo-200\",\n      };\n    case \"event\":\n      return {\n        Icon: Calendar,\n        color: \"text-pink-600\",\n        bgColor: \"bg-pink-50\",\n        borderColor: \"border-pink-200\",\n      };\n    default:\n      return {\n        Icon: MapPin,\n        color: \"text-gray-600\",\n        bgColor: \"bg-gray-50\",\n        borderColor: \"border-gray-200\",\n      };\n  }\n}\n\nexport function MapView({\n  locations,\n  selectedLocationId,\n  onLocationSelect,\n}: MapViewProps) {\n  const mapRef = useRef<any>(null);\n  const animationControllerRef = useRef<RouteAnimationController | null>(null);\n  const [viewState, setViewState] = useState<ViewState>({\n    latitude: 34.9671,\n    longitude: 135.7727,\n    zoom: 11,\n    bearing: 0,\n    pitch: 0,\n    padding: { top: 0, bottom: 0, left: 0, right: 0 },\n  });\n  const [routeData, setRouteData] = useState<GeoJSON.FeatureCollection | null>(\n    null\n  );\n  const [isPreviewMode, setIsPreviewMode] = useState(false);\n  const [animationProgress, setAnimationProgress] = useState(0);\n  const [cursorPosition, setCursorPosition] = useState<[number, number] | null>(\n    null\n  );\n  const [partialRoute, setPartialRoute] =\n    useState<GeoJSON.FeatureCollection | null>(null);\n  const [isSeeking, setIsSeeking] = useState(false);\n\n  // Função auxiliar para parsear hora\n  function parseTime(timeStr: string): number {\n    const [time, period] = timeStr.split(\" \");\n    const [hours, minutes] = time.split(\":\").map(Number);\n    let totalMinutes = hours * 60 + minutes;\n    if (period === \"PM\" && hours !== 12) totalMinutes += 12 * 60;\n    if (period === \"AM\" && hours === 12) totalMinutes -= 12 * 60;\n    return totalMinutes;\n  }\n\n  // Ordenar localizações por dia e hora\n  const sortedLocations = useMemo(() => {\n    return [...locations].sort((a, b) => {\n      if (a.day !== b.day) return a.day - b.day;\n      const timeA = parseTime(a.time);\n      const timeB = parseTime(b.time);\n      return timeA - timeB;\n    });\n  }, [locations]);\n\n  // Buscar rotas do Mapbox Directions API\n  useEffect(() => {\n    if (sortedLocations.length < 2 || !MAPBOX_TOKEN) return;\n\n    const fetchRoute = async () => {\n      try {\n        const coordinates = sortedLocations\n          .map((loc) => `${loc.lng},${loc.lat}`)\n          .join(\";\");\n\n        const url = `https://api.mapbox.com/directions/v5/mapbox/walking/${coordinates}?geometries=geojson&access_token=${MAPBOX_TOKEN}`;\n\n        const response = await fetch(url);\n        const data = await response.json();\n\n        if (data.code === \"Ok\" && data.routes && data.routes.length > 0) {\n          const route = data.routes[0];\n          const geometry = route.geometry as GeoJSON.LineString;\n          const routeCoords = geometry.coordinates as [number, number][];\n\n          const geojson: GeoJSON.FeatureCollection = {\n            type: \"FeatureCollection\",\n            features: [\n              {\n                type: \"Feature\",\n                properties: {},\n                geometry: route.geometry,\n              },\n            ],\n          };\n          setRouteData(geojson);\n\n          // Converter locations em checkpoints\n          const checkpoints: Checkpoint[] = sortedLocations.map((loc) => ({\n            id: loc.id,\n            name: loc.name,\n            lat: loc.lat,\n            lng: loc.lng,\n          }));\n\n          // Inicializar controlador de animação\n          if (!animationControllerRef.current) {\n            animationControllerRef.current = new RouteAnimationController({\n              durationPerSegment: 3000, // 3 segundos por segmento\n              ease: \"power2.inOut\",\n              callbacks: {\n                onProgressUpdate: (progress) => setAnimationProgress(progress),\n                onCursorPositionUpdate: (position) =>\n                  setCursorPosition(position),\n                onRouteUpdate: (partial) => setPartialRoute(partial),\n                onComplete: () => {\n                  setTimeout(() => setIsPreviewMode(false), 1500);\n                },\n                onCheckpointReached: (index, checkpoint) => {\n                  console.log(`Checkpoint alcançado: ${checkpoint.name}`);\n                },\n                onSegmentStart: (fromIndex, toIndex) => {\n                  console.log(\n                    `Iniciando segmento: ${checkpoints[fromIndex].name} → ${checkpoints[toIndex].name}`\n                  );\n                },\n              },\n            });\n          }\n\n          animationControllerRef.current.initialize(routeCoords, checkpoints);\n        }\n      } catch (error) {\n        console.error(\"Erro ao buscar rota:\", error);\n        // Fallback: criar linha reta entre pontos\n        const lineCoordinates = sortedLocations.map((loc) => [\n          loc.lng,\n          loc.lat,\n        ]) as [number, number][];\n\n        const geojson: GeoJSON.FeatureCollection = {\n          type: \"FeatureCollection\",\n          features: [\n            {\n              type: \"Feature\",\n              properties: {},\n              geometry: {\n                type: \"LineString\",\n                coordinates: lineCoordinates,\n              },\n            },\n          ],\n        };\n        setRouteData(geojson);\n\n        // Converter locations em checkpoints\n        const checkpoints: Checkpoint[] = sortedLocations.map((loc) => ({\n          id: loc.id,\n          name: loc.name,\n          lat: loc.lat,\n          lng: loc.lng,\n        }));\n\n        // Inicializar controlador de animação com fallback\n        if (!animationControllerRef.current) {\n          animationControllerRef.current = new RouteAnimationController({\n            durationPerSegment: 3000, // 3 segundos por segmento\n            ease: \"power2.inOut\",\n            callbacks: {\n              onProgressUpdate: (progress) => setAnimationProgress(progress),\n              onCursorPositionUpdate: (position) => setCursorPosition(position),\n              onRouteUpdate: (partial) => setPartialRoute(partial),\n              onComplete: () => {\n                setTimeout(() => setIsPreviewMode(false), 1500);\n              },\n              onCheckpointReached: (index, checkpoint) => {\n                console.log(`Checkpoint alcançado: ${checkpoint.name}`);\n              },\n              onSegmentStart: (fromIndex, toIndex) => {\n                console.log(\n                  `Iniciando segmento: ${checkpoints[fromIndex].name} → ${checkpoints[toIndex].name}`\n                );\n              },\n            },\n          });\n        }\n\n        animationControllerRef.current.initialize(lineCoordinates, checkpoints);\n      }\n    };\n\n    fetchRoute();\n\n    return () => {\n      if (animationControllerRef.current) {\n        animationControllerRef.current.destroy();\n        animationControllerRef.current = null;\n      }\n    };\n  }, [sortedLocations, MAPBOX_TOKEN]);\n\n  // Fly to location when selected\n  useEffect(() => {\n    if (selectedLocationId && mapRef.current) {\n      const location = locations.find((l) => l.id === selectedLocationId);\n      if (location) {\n        mapRef.current.flyTo({\n          center: [location.lng, location.lat],\n          zoom: 14,\n          duration: 2000,\n          essential: true,\n        });\n      }\n    }\n  }, [selectedLocationId, locations]);\n\n  // Show error if token is not configured\n  if (!MAPBOX_TOKEN || MAPBOX_TOKEN.trim() === \"\") {\n    return (\n      <div className=\"w-full h-full bg-muted/20 relative overflow-hidden rounded-3xl border border-border/50 shadow-2xl flex items-center justify-center\">\n        <div className=\"text-center p-6\">\n          <AlertCircle className=\"w-12 h-12 text-destructive mx-auto mb-4\" />\n          <p className=\"text-destructive font-medium\">\n            Mapbox token não configurado\n          </p>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            Configure VITE_MAPBOX_TOKEN no arquivo .env\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full h-full bg-muted/20 relative overflow-hidden rounded-3xl border border-border/50 shadow-2xl\">\n      <Map\n        ref={mapRef}\n        {...viewState}\n        onMove={(evt) => setViewState(evt.viewState)}\n        style={{ width: \"100%\", height: \"100%\" }}\n        mapStyle=\"mapbox://styles/mapbox/light-v11\"\n        mapboxAccessToken={MAPBOX_TOKEN}\n        attributionControl={false}\n      >\n        <NavigationControl position=\"bottom-right\" />\n\n        {/* Renderizar rota completa (quando não está em preview) */}\n        {routeData && !isPreviewMode && (\n          <Source id=\"route\" type=\"geojson\" data={routeData}>\n            <Layer\n              id=\"route\"\n              type=\"line\"\n              layout={{\n                \"line-join\": \"round\",\n                \"line-cap\": \"round\",\n              }}\n              paint={{\n                \"line-color\": \"hsl(199, 89%, 48%)\",\n                \"line-width\": 4,\n                \"line-opacity\": 0.7,\n              }}\n            />\n          </Source>\n        )}\n\n        {/* Renderizar rota parcial animada */}\n        {isPreviewMode && partialRoute && (\n          <Source id=\"route-animated\" type=\"geojson\" data={partialRoute}>\n            <Layer\n              id=\"route-animated\"\n              type=\"line\"\n              layout={{\n                \"line-join\": \"round\",\n                \"line-cap\": \"round\",\n              }}\n              paint={{\n                \"line-color\": \"hsl(199, 89%, 48%)\",\n                \"line-width\": 5,\n                \"line-opacity\": 0.9,\n              }}\n            />\n          </Source>\n        )}\n\n        {/* Cursor animado */}\n        {isPreviewMode && cursorPosition && (\n          <Marker\n            latitude={cursorPosition[1]}\n            longitude={cursorPosition[0]}\n            anchor=\"center\"\n          >\n            <motion.div\n              initial={{ scale: 0, opacity: 0 }}\n              animate={{\n                scale: [1, 1.2, 1],\n                opacity: 1,\n              }}\n              transition={{\n                scale: {\n                  duration: 1.5,\n                  repeat: Infinity,\n                  ease: \"easeInOut\",\n                },\n                opacity: {\n                  duration: 0.3,\n                },\n              }}\n              className=\"relative\"\n            >\n              <div className=\"w-5 h-5 bg-primary rounded-full border-2 border-white shadow-xl z-10 relative\" />\n              <motion.div\n                className=\"absolute inset-0 w-5 h-5 bg-primary/40 rounded-full\"\n                animate={{\n                  scale: [1, 2, 1],\n                  opacity: [0.6, 0, 0.6],\n                }}\n                transition={{\n                  duration: 2,\n                  repeat: Infinity,\n                  ease: \"easeOut\",\n                }}\n              />\n              <div className=\"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-1 bg-black/20 rounded-full blur-sm\" />\n            </motion.div>\n          </Marker>\n        )}\n\n        {sortedLocations.map((loc) => {\n          const { Icon, color, bgColor, borderColor } = getCategoryIcon(\n            loc.category\n          );\n          const isSelected = selectedLocationId === loc.id;\n\n          return (\n            <Marker\n              key={loc.id}\n              latitude={loc.lat}\n              longitude={loc.lng}\n              anchor=\"bottom\"\n              onClick={(e) => {\n                e.originalEvent.stopPropagation();\n                onLocationSelect(loc.id);\n              }}\n            >\n              <div className=\"group relative cursor-pointer\">\n                <motion.div\n                  initial={{ scale: 0 }}\n                  animate={{\n                    scale: 1,\n                    rotate: isSelected ? 0 : 0,\n                  }}\n                  whileHover={{ scale: 1.2 }}\n                  className={`\n                    p-2 rounded-full shadow-lg transition-all duration-300 border-2\n                    ${\n                      isSelected\n                        ? \"bg-primary text-primary-foreground scale-125 z-50 border-primary\"\n                        : `${bgColor} ${color} ${borderColor} hover:scale-110`\n                    }\n                  `}\n                >\n                  <Icon\n                    className={`w-5 h-5 ${isSelected ? \"fill-current\" : \"\"}`}\n                  />\n                </motion.div>\n\n                {/* Tooltip on hover */}\n                <div className=\"absolute -top-10 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-black/80 text-white text-xs py-1 px-2 rounded whitespace-nowrap pointer-events-none z-10\">\n                  {loc.name}\n                </div>\n              </div>\n            </Marker>\n          );\n        })}\n      </Map>\n\n      {/* Decorative gradient overlay for better text readability if we had overlays */}\n      <div className=\"absolute inset-0 pointer-events-none bg-linear-to-b from-black/5 to-transparent h-32\" />\n\n      {/* Controles de visualização da rota - Estilo player de vídeo */}\n      {routeData && sortedLocations.length >= 2 && (\n        <div className=\"absolute bottom-4 left-4 right-4 z-10\">\n          <div className=\"bg-white/95 backdrop-blur-md shadow-2xl border border-border/50 rounded-xl p-4 space-y-3\">\n            {/* Barra de progresso (Slider) */}\n            <div className=\"flex items-center gap-3\">\n              <Slider\n                value={[animationProgress * 100]}\n                max={100}\n                step={0.1}\n                className=\"flex-1\"\n                onValueChange={(value) => {\n                  if (!animationControllerRef.current) return;\n                  const progress = value[0] / 100;\n                  setIsSeeking(true);\n                  animationControllerRef.current.seek(progress);\n                  // Atualizar manualmente para feedback visual imediato\n                  setAnimationProgress(progress);\n                }}\n                onValueCommit={(value) => {\n                  if (!animationControllerRef.current) return;\n                  const progress = value[0] / 100;\n                  animationControllerRef.current.seek(progress);\n                  setIsSeeking(false);\n                }}\n              />\n              <div className=\"text-xs text-muted-foreground min-w-[3rem] text-right\">\n                {Math.round(animationProgress * 100)}%\n              </div>\n            </div>\n\n            {/* Controles de reprodução */}\n            <div className=\"flex items-center justify-center gap-2\">\n              <Button\n                size=\"icon\"\n                variant=\"outline\"\n                onClick={() => {\n                  if (!animationControllerRef.current) return;\n                  animationControllerRef.current.goToPreviousCheckpoint();\n                }}\n                className=\"h-9 w-9\"\n                disabled={\n                  !animationControllerRef.current?.hasPreviousCheckpoint()\n                }\n              >\n                <SkipBack className=\"w-4 h-4\" />\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant={isPreviewMode ? \"default\" : \"outline\"}\n                onClick={() => {\n                  if (!animationControllerRef.current) return;\n\n                  if (isPreviewMode) {\n                    animationControllerRef.current.pause();\n                    setIsPreviewMode(false);\n                  } else {\n                    // Se está pausado, continua de onde parou\n                    if (animationControllerRef.current.isPaused()) {\n                      animationControllerRef.current.resume();\n                    } else {\n                      // Se não está pausado, anima do checkpoint atual para o próximo\n                      animationControllerRef.current.animateToNextCheckpoint();\n                    }\n                    setIsPreviewMode(true);\n                  }\n                }}\n                className=\"h-10 w-10\"\n              >\n                {isPreviewMode ? (\n                  <Pause className=\"w-5 h-5\" />\n                ) : (\n                  <Play className=\"w-5 h-5\" />\n                )}\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant=\"outline\"\n                onClick={() => {\n                  if (!animationControllerRef.current) return;\n                  animationControllerRef.current.goToNextCheckpoint();\n                }}\n                className=\"h-9 w-9\"\n                disabled={!animationControllerRef.current?.hasNextCheckpoint()}\n              >\n                <SkipForward className=\"w-4 h-4\" />\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant=\"outline\"\n                onClick={() => {\n                  if (!animationControllerRef.current) return;\n                  animationControllerRef.current.rewind();\n                  setAnimationProgress(0);\n                }}\n                className=\"h-9 w-9\"\n              >\n                <RotateCcw className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1559, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/components/timeline-panel.tsx"],"sourcesContent":["import { Location, Category, Difficulty } from '@/lib/mock-data';\nimport { motion } from 'framer-motion';\nimport { MapPin, Clock, Calendar, CheckCircle2, MoreHorizontal } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface TimelinePanelProps {\n  locations: Location[];\n  selectedLocationId: string | null;\n  onLocationSelect: (id: string) => void;\n}\n\nexport function TimelinePanel({ locations, selectedLocationId, onLocationSelect }: TimelinePanelProps) {\n  return (\n    <div className=\"h-full overflow-y-auto pr-2 pb-20 scrollbar-hide\">\n      <div className=\"relative pl-8 border-l-2 border-dashed border-border/60 ml-4 space-y-12 py-8\">\n        {locations.map((location, index) => {\n          const isSelected = selectedLocationId === location.id;\n          \n          return (\n            <div key={location.id} className=\"relative\">\n              {/* Timeline Connector */}\n              <div \n                className={cn(\n                  \"absolute -left-[41px] top-6 w-5 h-5 rounded-full border-4 transition-all duration-300 z-10 bg-background\",\n                  isSelected ? \"border-primary scale-125 shadow-[0_0_0_4px_rgba(var(--primary),0.2)]\" : \"border-muted-foreground/30\"\n                )}\n              />\n\n              <motion.div\n                layout\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ delay: index * 0.1 }}\n                onClick={() => onLocationSelect(location.id)}\n                className={cn(\n                  \"group cursor-pointer rounded-2xl border transition-all duration-300 overflow-hidden\",\n                  isSelected \n                    ? \"bg-card border-primary/20 shadow-xl ring-1 ring-primary/10 scale-[1.02]\" \n                    : \"bg-card/50 border-transparent hover:bg-card hover:shadow-lg hover:border-border/50\"\n                )}\n              >\n                {/* Image Section */}\n                <div className=\"h-40 overflow-hidden relative\">\n                   <img \n                    src={location.photos[0]} \n                    alt={location.name}\n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                   />\n                   <div className=\"absolute top-3 right-3 bg-black/60 backdrop-blur-md text-white text-xs font-medium px-2.5 py-1 rounded-full flex items-center gap-1\">\n                      <Clock className=\"w-3 h-3\" />\n                      {location.time}\n                   </div>\n                   <div className=\"absolute bottom-3 left-3 flex gap-2\">\n                      <Badge variant={location.category}>{location.category}</Badge>\n                      {location.difficulty && <Badge variant=\"outline\">{location.difficulty}</Badge>}\n                   </div>\n                </div>\n\n                {/* Content Section */}\n                <div className=\"p-5\">\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <h3 className={cn(\"text-xl font-display font-semibold\", isSelected ? \"text-primary\" : \"text-foreground\")}>\n                      {location.name}\n                    </h3>\n                  </div>\n                  \n                  <p className=\"text-muted-foreground text-sm leading-relaxed line-clamp-2 mb-4 group-hover:line-clamp-none transition-all\">\n                    {location.description}\n                  </p>\n\n                  <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-border/50\">\n                     <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n                        <MapPin className=\"w-3.5 h-3.5\" />\n                        <span>Day {location.day}</span>\n                     </div>\n                     <button className=\"text-primary text-xs font-medium hover:underline flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        View Details <MoreHorizontal className=\"w-4 h-4\" />\n                     </button>\n                  </div>\n                </div>\n              </motion.div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction Badge({ children, variant = 'default' }: { children: React.ReactNode, variant?: string }) {\n  const styles = {\n    default: \"bg-primary/90 text-primary-foreground\",\n    outline: \"bg-black/40 text-white border border-white/20 backdrop-blur-sm\",\n    culture: \"bg-purple-500/90 text-white\",\n    food: \"bg-orange-500/90 text-white\",\n    nature: \"bg-green-500/90 text-white\",\n    shopping: \"bg-blue-500/90 text-white\",\n    stay: \"bg-indigo-500/90 text-white\"\n  };\n\n  const selectedStyle = styles[variant as keyof typeof styles] || styles.default;\n\n  return (\n    <span className={cn(\"text-[10px] uppercase tracking-wider font-bold px-2 py-0.5 rounded-full shadow-xs\", selectedStyle)}>\n      {children}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AACA;;;;;AAQO,SAAS,cAAc,EAAE,SAAS,EAAE,kBAAkB,EAAE,gBAAgB,EAAsB;IACnG,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,UAAU,GAAG,CAAC,CAAC,UAAU;gBACxB,MAAM,aAAa,uBAAuB,SAAS,EAAE;gBAErD,qBACE,8OAAC;oBAAsB,WAAU;;sCAE/B,8OAAC;4BACC,WAAW,IAAA,mIAAE,EACX,4GACA,aAAa,yEAAyE;;;;;;sCAI1F,8OAAC,oMAAM,CAAC,GAAG;4BACT,MAAM;4BACN,SAAS;gCAAE,SAAS;gCAAG,GAAG,CAAC;4BAAG;4BAC9B,SAAS;gCAAE,SAAS;gCAAG,GAAG;4BAAE;4BAC5B,YAAY;gCAAE,OAAO,QAAQ;4BAAI;4BACjC,SAAS,IAAM,iBAAiB,SAAS,EAAE;4BAC3C,WAAW,IAAA,mIAAE,EACX,uFACA,aACI,4EACA;;8CAIN,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC;4CACA,KAAK,SAAS,MAAM,CAAC,EAAE;4CACvB,KAAK,SAAS,IAAI;4CAClB,WAAU;;;;;;sDAEX,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC,6MAAK;oDAAC,WAAU;;;;;;gDAChB,SAAS,IAAI;;;;;;;sDAEjB,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC;oDAAM,SAAS,SAAS,QAAQ;8DAAG,SAAS,QAAQ;;;;;;gDACpD,SAAS,UAAU,kBAAI,8OAAC;oDAAM,SAAQ;8DAAW,SAAS,UAAU;;;;;;;;;;;;;;;;;;8CAK3E,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAG,WAAW,IAAA,mIAAE,EAAC,sCAAsC,aAAa,iBAAiB;0DACnF,SAAS,IAAI;;;;;;;;;;;sDAIlB,8OAAC;4CAAE,WAAU;sDACV,SAAS,WAAW;;;;;;sDAGvB,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC;oDAAI,WAAU;;sEACZ,8OAAC,oNAAM;4DAAC,WAAU;;;;;;sEAClB,8OAAC;;gEAAK;gEAAK,SAAS,GAAG;;;;;;;;;;;;;8DAE1B,8OAAC;oDAAO,WAAU;;wDAAgI;sEAClI,8OAAC,kOAAc;4DAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mBAzDzC,SAAS,EAAE;;;;;YAgEzB;;;;;;;;;;;AAIR;AAEA,SAAS,MAAM,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAmD;IAC/F,MAAM,SAAS;QACb,SAAS;QACT,SAAS;QACT,SAAS;QACT,MAAM;QACN,QAAQ;QACR,UAAU;QACV,MAAM;IACR;IAEA,MAAM,gBAAgB,MAAM,CAAC,QAA+B,IAAI,OAAO,OAAO;IAE9E,qBACE,8OAAC;QAAK,WAAW,IAAA,mIAAE,EAAC,qFAAqF;kBACtG;;;;;;AAGP"}},
    {"offset": {"line": 1798, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/client/src/pages/trip-details.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { Category, Difficulty, MOCK_TRIP } from '@/lib/mock-data';\nimport { MapView } from '@/components/map-view';\nimport { TimelinePanel } from '@/components/timeline-panel';\nimport { Search, SlidersHorizontal, Map as MapIcon, CalendarRange, Menu } from 'lucide-react';\nimport { motion } from 'framer-motion';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\nexport default function TripDetails() {\n  const [selectedLocationId, setSelectedLocationId] = useState<string | null>(null);\n  const [activeCategory, setActiveCategory] = useState<Category | 'all'>('all');\n\n  const filteredLocations = activeCategory === 'all' \n    ? MOCK_TRIP.locations \n    : MOCK_TRIP.locations.filter(l => l.category === activeCategory);\n\n  return (\n    <div className=\"h-screen w-full bg-background flex flex-col md:flex-row overflow-hidden font-sans text-foreground selection:bg-primary/20\">\n      \n      {/* Left Panel - Timeline & Content */}\n      <div className=\"w-full md:w-[480px] flex flex-col h-[50vh] md:h-full border-r border-border bg-background/50 backdrop-blur-3xl z-10 shadow-2xl relative\">\n        \n        {/* Header */}\n        <div className=\"p-6 md:p-8 pb-4\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div className=\"flex items-center gap-2 text-primary font-bold tracking-tight\">\n               <div className=\"w-8 h-8 rounded-lg bg-primary text-primary-foreground flex items-center justify-center\">\n                 <MapIcon className=\"w-5 h-5\" />\n               </div>\n               WanderFlow\n            </div>\n            <Button variant=\"ghost\" size=\"icon\" className=\"rounded-full hover:bg-muted\">\n              <Menu className=\"w-5 h-5\" />\n            </Button>\n          </div>\n\n          <motion.div \n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"space-y-2\"\n          >\n            <h1 className=\"text-3xl font-display font-bold leading-tight\">{MOCK_TRIP.title}</h1>\n            <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n              <span className=\"flex items-center gap-1.5 bg-muted/50 px-3 py-1 rounded-full\">\n                <CalendarRange className=\"w-4 h-4\" />\n                {MOCK_TRIP.dates}\n              </span>\n              <span>{MOCK_TRIP.stats.places} Places</span>\n            </div>\n          </motion.div>\n\n          {/* Filters */}\n          <div className=\"mt-8 flex gap-2 overflow-x-auto pb-2 scrollbar-hide mask-fade-right\">\n             <FilterChip active={activeCategory === 'all'} onClick={() => setActiveCategory('all')}>All</FilterChip>\n             <FilterChip active={activeCategory === 'culture'} onClick={() => setActiveCategory('culture')}>Culture</FilterChip>\n             <FilterChip active={activeCategory === 'nature'} onClick={() => setActiveCategory('nature')}>Nature</FilterChip>\n             <FilterChip active={activeCategory === 'food'} onClick={() => setActiveCategory('food')}>Food</FilterChip>\n          </div>\n        </div>\n\n        {/* Timeline Scroll Area */}\n        <div className=\"flex-1 overflow-hidden relative\">\n          <TimelinePanel \n            locations={filteredLocations} \n            selectedLocationId={selectedLocationId}\n            onLocationSelect={setSelectedLocationId}\n          />\n          \n          {/* Gradient Fade at bottom */}\n          <div className=\"absolute bottom-0 left-0 right-0 h-24 bg-linear-to-t from-background to-transparent pointer-events-none\" />\n        </div>\n      </div>\n\n      {/* Right Panel - Map */}\n      <div className=\"flex-1 relative bg-muted h-[50vh] md:h-full\">\n        <div className=\"absolute inset-4 md:inset-6 rounded-3xl overflow-hidden shadow-inner border border-white/10 ring-4 ring-black/5\">\n           <MapView \n             locations={filteredLocations} \n             selectedLocationId={selectedLocationId}\n             onLocationSelect={setSelectedLocationId}\n           />\n           \n           {/* Floating Map Controls Overlay */}\n           <div className=\"absolute top-6 left-6 right-6 flex justify-between pointer-events-none\">\n             <div className=\"bg-white/90 backdrop-blur-md shadow-sm border border-border/50 rounded-full px-4 py-2 flex items-center gap-2 pointer-events-auto\">\n                <Search className=\"w-4 h-4 text-muted-foreground\" />\n                <input \n                  type=\"text\" \n                  placeholder=\"Search locations...\" \n                  className=\"bg-transparent border-none outline-hidden text-sm w-48 placeholder:text-muted-foreground/70\" \n                />\n             </div>\n             \n             <Button size=\"icon\" variant=\"secondary\" className=\"rounded-full shadow-lg pointer-events-auto bg-white/90 backdrop-blur-md\">\n                <SlidersHorizontal className=\"w-4 h-4\" />\n             </Button>\n           </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction FilterChip({ active, children, onClick }: { active: boolean, children: React.ReactNode, onClick: () => void }) {\n  return (\n    <button \n      onClick={onClick}\n      className={cn(\n        \"px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-300 whitespace-nowrap\",\n        active \n          ? \"bg-primary text-primary-foreground shadow-md shadow-primary/20 scale-105\" \n          : \"bg-muted text-muted-foreground hover:bg-muted/80 hover:text-foreground\"\n      )}\n    >\n      {children}\n    </button>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,iNAAQ,EAAgB;IAC5E,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAmB;IAEvE,MAAM,oBAAoB,mBAAmB,QACzC,iJAAS,CAAC,SAAS,GACnB,iJAAS,CAAC,SAAS,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK;IAEnD,qBACE,8OAAC;QAAI,WAAU;;0BAGb,8OAAC;gBAAI,WAAU;;kCAGb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACZ,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC,uMAAO;oDAAC,WAAU;;;;;;;;;;;4CACf;;;;;;;kDAGT,8OAAC,sJAAM;wCAAC,SAAQ;wCAAQ,MAAK;wCAAO,WAAU;kDAC5C,cAAA,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAIpB,8OAAC,oMAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,WAAU;;kDAEV,8OAAC;wCAAG,WAAU;kDAAiD,iJAAS,CAAC,KAAK;;;;;;kDAC9E,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,yOAAa;wDAAC,WAAU;;;;;;oDACxB,iJAAS,CAAC,KAAK;;;;;;;0DAElB,8OAAC;;oDAAM,iJAAS,CAAC,KAAK,CAAC,MAAM;oDAAC;;;;;;;;;;;;;;;;;;;0CAKlC,8OAAC;gCAAI,WAAU;;kDACZ,8OAAC;wCAAW,QAAQ,mBAAmB;wCAAO,SAAS,IAAM,kBAAkB;kDAAQ;;;;;;kDACvF,8OAAC;wCAAW,QAAQ,mBAAmB;wCAAW,SAAS,IAAM,kBAAkB;kDAAY;;;;;;kDAC/F,8OAAC;wCAAW,QAAQ,mBAAmB;wCAAU,SAAS,IAAM,kBAAkB;kDAAW;;;;;;kDAC7F,8OAAC;wCAAW,QAAQ,mBAAmB;wCAAQ,SAAS,IAAM,kBAAkB;kDAAS;;;;;;;;;;;;;;;;;;kCAK9F,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,kKAAa;gCACZ,WAAW;gCACX,oBAAoB;gCACpB,kBAAkB;;;;;;0CAIpB,8OAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAKnB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACZ,8OAAC,sJAAO;4BACN,WAAW;4BACX,oBAAoB;4BACpB,kBAAkB;;;;;;sCAIpB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACZ,8OAAC,gNAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CACC,MAAK;4CACL,aAAY;4CACZ,WAAU;;;;;;;;;;;;8CAIf,8OAAC,sJAAM;oCAAC,MAAK;oCAAO,SAAQ;oCAAY,WAAU;8CAC/C,cAAA,8OAAC,qPAAiB;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7C;AAEA,SAAS,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAuE;IACpH,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,IAAA,mIAAE,EACX,8FACA,SACI,6EACA;kBAGL;;;;;;AAGP"}},
    {"offset": {"line": 2126, "column": 0}, "map": {"version":3,"sources":["file:///Users/riipen/Documents/Projects/track/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport TripDetails from \"@/pages/trip-details\";\n\nexport default function Home() {\n  return <TripDetails />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBAAO,8OAAC,qJAAW;;;;;AACrB"}}]
}